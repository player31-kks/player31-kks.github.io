---
layout: post
categories: [nodejs, 자바스크립트 자세히 보기]
title: 변수의 선언과 정의
---

# 변수

## 선언과 정의

```js
let x = 1;
```

다음 문장은 무슨 뜻일까요? 바로 `x`라는 변수에 1이라는 값을 할당한다는 뜻인데요. 자바스크립트에서 변수에 값을 할당하기 위해서는 선언과 정의를 해야합니다.
선언은 자바스크립트 엔진에 변수의 존재를 알리는 것을 말합니다. 선언한 변수에 값을 할당하는 것을 정의라고 합니다. 이해를 도우기 위해 `let x = 1;`를 쪼개어 볼까요?
`let x`는 변수를 선언했다는 뜻입니다. `x = 1;` 은 변수에 값을 할당했다는 뜻입니다. `let x = 1;`는 선언과 정의를 동시에 하는 문장입니다. 다음과 같이 따로따로 표현할 수 있습니다.
선언과 할당에 대해 더 자세히 알아보겠습니다.

```js
let x;
x = 2;
```

### 변수를 선언하기

변수 선언은 변수를 생성하는 것입니다. 변수뿐만 아니라 어떤 것을 **선언**했다고 하면 컴퓨터에 메모리를 확보하겠다는 뜻입니다. 변수를 선언하면 컴퓨터에 변수가 사용할 메모리를 확보합니다.
컴퓨터에 변수를 사용하려면 반드시 선언이 필요합니다. `javascript`에서 변수를 선언할 때는 `var`, `let`, `const` 키워드를 사용합니다.
선언하지 않는 변수를 부르면 ReferenceError가 발생합니다.
![name](https://codewithwolf.com/assets/img/reference-error-type-error-console.png)

```js
console.log(x);
var x;
```

위의 예시의 결과는 `undefined` 입니다. (var 키워드를 사용해 선언하면 변수는 값을 할당받기 전까지 undefined 값을 가집니다. ) 흠... 그런데 선언하기 전에
변수를 불렀는데 왜 ReferenceError가 발생하지 않을까요? 여기에 자바스크립트 동작원리가 숨어있습니다.

자바스크립트 엔진은 소스코드를 한줄 씩 순서대로 실행합니다.
그러나 실행하기 전에 먼저 소스코드들을 평가합니다. 평가할 때 모든 선언을 찾아내서 실행합니다. 더 효율적으로 프로그램이 동작하기 위해 변수의 메모리를 확보해 놓습니다. 그리고 실제 한줄 씩 실행될 때 (이를 런타임runtime이라 합니다.) 선언을 제외한 코드들이 실행됩니다. 따라서 `var x;` 가 평가단계에서 먼저 실행되어 x는 `undefined`를 할당받고
실행단계(runtime)에서 x가 호출되어 결국 `undefined`가 출력됩니다. 이와 같이 "선언문이 코드의 최상단에 위치한 것처럼" 보이는 것을 **호이스팅**(hoisting)이라고 합니다.
var 이외에도 var, let, const, function, class 키워드를 사용해서 선언하는 모든 것들이 호이스팅됩니다.

### 변수에 값을 할당

```js
var a = 1;
a = 3;
```

위와 같이 변수의 선언과 정의를 같이 할 수 있습니다. 하지만 두 문장을 한꺼번에 표현해도 자바스크립트 엔진은 이를 선언과 정의 두개로 나누어 실행합니다.
따라서 선언할 때 a에 `undefined`을 할당하고 정의할 때 `undefined`가 저장되어있던 메모리를 지우고 새로운 메모리 공간을 확보한 후 a에 1을 할당합니다.
a의 값을 3으로 재할당 할 때도 1에 해당하는 메모리 공간을 지우고 새로운 메모리 공간을 확보하고 a에 3을 할당합니다.

### `=` 의 의미

`let x = 1;`은 이제 충분히 해석 가능합니다. 그러면 다음 문장은 어떻게 해설할까요?

```js
let x = 1;
let y = 2;
x = y;
```

`x`와 `y`에 각각 1,2를 할당했습니다. 그리고 `x = y` 표현이 보입니다. `x = y` 는 어떤 뜻일 까요? `x` 와 `y`가 같다는 뜻일까요?
아닙니다. 코드에서 `=`는 같다는 뜻이 아닙니다. 프로그래밍에서 `=` 는 왼쪽의 공간에 오른쪽 값을 넣어준다 라는 뜻입니다. 더 자세히 설명하자면
변수를 선언할 때 컴퓨터는 메모리 공간을 확보합니다. 그리고 그 공간에 값을 넣어줍니다. 따라서 코드에서 `x = y`는 왼쪽 x변수의
공간에 y의 값을 넣어준다는 뜻입니다. 항상 왼쪽은 `공간` 오른쪽은 `값`이라고 생각하면 헷갈리지 않습니다.
